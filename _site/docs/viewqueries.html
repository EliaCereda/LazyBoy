<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
   <meta http-equiv="content-type" content="text/html; charset=utf-8" />
   <title>Queries</title>
   <meta name="author" content="Garren Smith" />
   <link href="" rel="alternate" title="lazyboy" type="application/atom+xml" />

<!-- syntax highlighting CSS -->
   <link rel="stylesheet" href="/css/syntax.css" type="text/css" />

   <!-- Homepage CSS -->
   <link rel="stylesheet" href="/css/screen.css" type="text/css" media="screen, projection" />
   <link href='http://fonts.googleapis.com/css?family=Federo' rel='stylesheet' type='text/css'>
  
   <!-- Typekit -->
   <script type="text/javascript" src="http://use.typekit.com/jpd0pfm.js"></script>
   <script type="text/javascript">try{Typekit.load();}catch(e){}</script>
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-3810980-9']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
   
</head>
<body>


<div class="site">
  <div id="header">
    <h1 id="header-name"><a class="extra" href="/">LazyBoy</a></h1>
  <ul id="header-links">
    <li><a href="/docs/installation.html">Installation</a></li>
    <li><a href="/docs/define.html">Define</a></li>
    <li><a href="/docs/crud.html">Create, update and delete</a></li>
    <li><a href="/docs/viewqueries.html">Queries</a></li>
    <li><a href="/docs/embedded.html">Embedded</a></li>
    <li><a href="/docs/validations.html">Validations</a></li>
  </ul>
</div>

  <h1 id='querying'>Querying</h1>

<p>LazyBoy supports multiple ways of finding a specified document or documents for model.</p>

<h2 id='find_all'>Find All</h2>

<p>Find All will return all documents for a specified model. It will return an array with all the documents contained inside.</p>

<pre><code>  User.all(function (err, users) {
    // all users
  });</code></pre>

<h2 id='find_by_id'>Find by Id</h2>

<p>Finding by the Id will return only one document with the specified document or null if no documents match that Id.</p>

<pre><code>  Blog.find(&quot;12345&quot;, function (err, blog_post) {
    // do something with the blog post
  });</code></pre>

<h2 id='find_by_property'>Find by property</h2>

<p>LazyBoy creates some generic views to be used with each model. These can be accessed via the <code>.where</code> property on each model. It takes two arguments the propery to search by and the value of the propery to group by. This method always returns an array of the results.</p>

<pre><code>  Album.where(&quot;band&quot;,&quot;coldplay&quot;, function (err, albums) {
    albums.forEach(....
  });</code></pre>

<h2 id='custom_views'>Custom views</h2>

<p>It is also possible to create custom views for a specific require of a model. This is done when defining a model.</p>

<pre><code>  var Album = Model.define(&quot;Album&quot;,{band: String, title: String, rating: Number});

  Album.addView(&#39;BestIncubusAlbums&#39;,{ 
    map: function (doc) {
      if (doc.model_type === &#39;Album&#39; &amp;&amp; doc.band === &#39;Incubus&#39; &amp;&amp; doc.rating === 5) {
        emit(null,doc);
      }
    }
  });</code></pre>

<p>Then to query that view</p>

<pre><code>  Album.view(&#39;BestIncubusAlbums&#39;, function (err, albums) {

  
  });</code></pre>
  
 </div>

<a href="http://github.com/garrensmith/lazyboy"><img style="position: absolute; top: 0; right: 0; border: 0;" src="http://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png" alt="Fork me on GitHub" /></a>


</body>
</html>
